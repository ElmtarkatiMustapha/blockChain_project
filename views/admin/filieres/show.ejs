<!-- 
  filiere: data,
  modules: modulesData,
  successMessage: message,
  errorMessage: error,
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../../globalParts/header.ejs') %>
  <link rel="stylesheet" href="/style/adminSingleFiliere.css">
  <title>Single Filiere</title>
</head>
<body style="background-color: #fafafa;">
  <%- include('../../globalParts/preload.ejs') %>
  <%- include('../parts/menus.ejs') %>
  <%- include('../../globalParts/messages.ejs') %>

<div class="container-fluid section-1 p-4">
  <div class="row row-1">
    <div class="col-8 title">
      Filière: <label><%- filiere.title %></label>
    </div>
    <div class="col-4 text-end">
      <a class="btn btn-orange text-center" href="/filieres/edit/<%- filiere._id %>">Modifier</a>
    </div>
  </div>
  <div class="row row-2 m-0">
      <div class="col-12 pt-3 pb-3 container-fluid">
        <div class="row m-0 justify-content-center">
          <div class="col-11 col-sm-8 col-md-4 col-lg-3 p-3 text-center">
            <div class="elem elem-1">
              <div class="icon">
                <i class="fa-solid fa-award"></i>
              </div>
              <div class="title">
                <a href="/students">Gestion des Etudiants</a>
              </div>
            </div>
          </div>
          <div class="col-11 col-sm-8  col-md-4 col-lg-3 p-3 text-center">
            <div class="elem elem-2">
              <div class="icon">
                <i class="fa-solid fa-graduation-cap"></i>
              </div>
              <div class="title">
                <a href="/modules?filiere=<%- filiere._id %>">Gestion des Notes</a>
              </div>
            </div>
          </div>
          <div class="col-11 col-sm-8 col-md-4 col-lg-3 p-3 text-center">
            <div class="elem elem-1">
              <div class="icon">
                <i class="fa-solid fa-graduation-cap"></i>
              </div>
              <div class="title">
                <a href="/diplomes?filiere=<%- filiere._id %>">Gestion des Diplomes</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>

<div class="section-2 p-4">
  <div class="elem container-fluid p-0">
    <div class="row row-1 m-0 p-3">
      <div class="col-12 title p-1">
        Les informations du filière
      </div>
    </div>
    <div class="row m-0 row-2 p-3">
      <div class="col-12  col-sm-6 col-lg-4 p-2">
        <div class="title">Le titre du filière: </div>
        <div class="info"><%- filiere.title %></div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 p-2">
        <div class="title">Cycle de formation: </div>
        <div class="info"> <%- filiere.cycle %></div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 p-2">
        <div class="title">Departement: </div>
        <div class="info"><%- filiere.departement.label %></div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 p-2">
        <div class="title">description: </div>
        <div class="info"><%- filiere.description%></div>
      </div>
    </div>
  </div>
</div>


<div class="section-3 p-4">
  <div class="container-fluid elem p-0">
    <div class="row-1 row m-0 p-3">
      <div class="col-12 title">La liste des Modules:</div>
    </div>
    <form method="post" action="" class="row row-3 m-0 p-3">
      <div class=" col-12 table-responsive">
        <table class="table table-striped">
            <thead>
                <tr class="pt-2 pb-2 ">
                    <th scope="col">Module</th>
                    <th scope="col">Semestre</th>
                    <th scope="col">Professeur</th>
                </tr>
            </thead>
            <tbody>
                <% if (typeof modules != undefined && modules.length !=0 && modules != "" ) { %>
                    <% modules.forEach(item => { %>
                      <% item.modules.forEach(elem => { %>
                        <tr>
                          <td><%- elem.title %></td>
                          <td>Semestre <%- elem.semester%></td>
                          <td><%- elem.profInfo[0].firstName + " "+ elem.profInfo[0].firstName %></td>
                        </tr>
                      <% }) %>
                    <% }) %>
                <% } %>
            </tbody>
        </table>
      </div>
    </form>
  </div>
</div>



  <%- include('../../globalParts/footer.ejs') %>
</body>
</html>

